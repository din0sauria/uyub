{"version":3,"file":"message.js","sources":["pages/message/message.vue","../../../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWVzc2FnZS9tZXNzYWdlLnZ1ZQ"],"sourcesContent":["<template>\r\n\r\n  <!-- 标题栏 -->\r\n  <view\r\n    style=\"text-align: center;font-size: 40rpx;height: 100rpx;line-height: 100rpx ;font-weight: bold;position: fixed;top:0;z-index: 9;background-color: white;width: 100%;\">\r\n    消息</view>\r\n  <view class=\"layout\">\r\n    <!-- 搜索框 -->\r\n    <view class=\"search-box\">\r\n      <uni-icons class=\"search-icon\" type=\"search\" size=\"50rpx\"></uni-icons>\r\n      <input class=\"search-area\" v-model=\"searchKeyword\" placeholder=\"搜索好友\" />\r\n    </view>\r\n\r\n    <!-- 好友列表 -->\r\n    <scroll-view class=\"message-list\" scroll-y>\r\n      <view class=\"notification\">\r\n        <view class=\"ntf-box\">\r\n          <uni-icons class=\"ntf-icon\" type=\"chatbubble-filled\" color=\"#00FFCC\" size=\"96rpx\"\r\n            @click=\"checkReply\"></uni-icons>\r\n          <text class=\"ntf-content\">收到回复</text>\r\n        </view>\r\n        <view class=\"ntf-box\">\r\n          <uni-icons class=\"ntf-icon\" type=\"hand-up-filled\" color=\"#FF6699\" size=\"96rpx\" @click=\"checkLike\"></uni-icons>\r\n          <text class=\"ntf-content\">收到喜欢</text>\r\n        </view>\r\n        <view class=\"ntf-box\">\r\n          <uni-icons class=\"ntf-icon\" type=\"personadd-filled\" color=\"#00ffff\" size=\"96rpx\"\r\n            @click=\"checkNewFans\"></uni-icons>\r\n          <text class=\"ntf-content\">好友申请</text>\r\n        </view>\r\n      </view>\r\n      <view v-for=\"message in filteredMessages\" :key=\"message.friendId\" class=\"message-item\"\r\n        @click=\"goToChatWindow(message)\">\r\n        <!-- 头像 -->\r\n        <image class=\"friend-avatar\" :src=\"message.friendAvatar\" mode=\"aspectFill\"></image>\r\n\r\n        <!-- 昵称和最后一条消息 -->\r\n        <view class=\"message-content\">\r\n          <text class=\"friend-name\">{{ message.friendName }}</text>\r\n          <text class=\"last-message\">{{ message.lastMessage }}</text>\r\n        </view>\r\n\r\n        <!-- 最后一条消息时间和未读消息条数 -->\r\n        <view class=\"time-and-unreadcount\">\r\n          <view class=\"last-message-time\">\r\n            {{message.lastMessageTime}}\r\n          </view>\r\n          <view v-if=\"message.unreadCount > 0\" class=\"unread-count\">\r\n            {{ message.unreadCount }}\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </scroll-view>\r\n    <tabBar :selectedIndex=\"2\" ref=\"tabBarRef\" />\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\n  import {\r\n    ref,\r\n    computed\r\n  } from 'vue';\r\n  import tabBar from '/components/tabBar.vue';\r\n\r\n  // 模拟好友数据\r\n  const messages = ref([{\r\n      friendId: 1,\r\n      friendName: '小美',\r\n      friendAvatar: '/static/bse1.jpg',\r\n      lastMessage: '你好，我是彭于晏。',\r\n      lastMessageTime: '18:35',\r\n      unreadCount: 0,\r\n    },\r\n    {\r\n      friendId: 2,\r\n      friendName: '恐龙苯龙',\r\n      friendAvatar: '/static/xkl.jpg',\r\n      lastMessage: 'ltdd超市',\r\n      lastMessageTime: '18:33',\r\n      unreadCount: 1,\r\n    },\r\n    {\r\n      friendId: 5,\r\n      friendName: 'little day day',\r\n      friendAvatar: '/static/ltdd.jpg',\r\n      lastMessage: 'qwq',\r\n      lastMessageTime: '17:59',\r\n      unreadCount: 1,\r\n    },\r\n    {\r\n      friendId: 3,\r\n      friendName: '小蓝',\r\n      friendAvatar: '/static/zjy.jpg',\r\n      lastMessage: 'OKOK',\r\n      lastMessageTime: '11:56',\r\n      unreadCount: 2,\r\n    },\r\n    {\r\n      friendId: 4,\r\n      friendName: '小雅',\r\n      friendAvatar: '/static/lyt2.jpg',\r\n      lastMessage: '拜拜',\r\n      lastMessageTime: '09:13',\r\n      unreadCount: 0,\r\n    },\r\n    {\r\n      friendId: 9,\r\n      friendName: '小帅',\r\n      friendAvatar: '/static/lm.jpg',\r\n      lastMessage: '好嘞！',\r\n      lastMessageTime: '昨天 23:22',\r\n      unreadCount: 1,\r\n    },\r\n    {\r\n      friendId: 6,\r\n      friendName: '小薇',\r\n      friendAvatar: '/static/lyt1.jpg',\r\n      lastMessage: '我们不可能',\r\n      lastMessageTime: '昨天 22:14',\r\n      unreadCount: 0,\r\n    },\r\n    {\r\n      friendId: 7,\r\n      friendName: '小萱',\r\n      friendAvatar: '/static/lyt3.jpg',\r\n      lastMessage: '好吧',\r\n      lastMessageTime: '星期一',\r\n      unreadCount: 0,\r\n    },\r\n    {\r\n      friendId: 8,\r\n      friendName: '小琪',\r\n      friendAvatar: '/static/bse5.jpg',\r\n      lastMessage: '嗯嗯',\r\n      lastMessageTime: '星期一',\r\n      unreadCount: 0,\r\n    },\r\n  ]);\r\n\r\n\r\n  // 跳转到聊天窗口\r\n  const goToChatWindow = (message) => {\r\n    uni.navigateTo({\r\n      //   url: `/pages/message/chat-window?id=${message.friendId}`,\r\n      url: '/pages/message/chat-window',\r\n    });\r\n  };\r\n\r\n  // 搜索功能\r\n  const searchKeyword = ref('');\r\n  const filteredMessages = computed(() => {\r\n    return messages.value.filter((message) =>\r\n      message.friendName.includes(searchKeyword.value)\r\n    );\r\n  });\r\n\r\n  function checkReply() {\r\n\r\n  }\r\n\r\n  function checkLike() {\r\n\r\n  }\r\n\r\n  function checkNewFans() {\r\n\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .layout {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100vh;\r\n    background-color: #fff;\r\n\r\n    .header {\r\n      padding: 40rpx;\r\n      background-color: #f8f8f8;\r\n      text-align: center;\r\n      font-size: 36rpx;\r\n      font-weight: bold;\r\n    }\r\n\r\n    .search-box {\r\n      margin: 3rpx auto;\r\n      width: 90%;\r\n      height: 80rpx;\r\n      line-height: 80rpx;\r\n      /* 确保 line-height 与 height 一致 */\r\n      padding-left: 20rpx;\r\n      /* 为输入框的左侧添加内边距 */\r\n      border: 3rpx solid gray;\r\n      border-radius: 40rpx;\r\n      box-shadow: 5rpx 5rpx #fff;\r\n      display: flex;\r\n      align-items: center;\r\n      /* 垂直居中 */\r\n\r\n      .search-area {\r\n        flex-grow: 1;\r\n      }\r\n\r\n      .search-icon {\r\n        margin-right: 10rpx;\r\n      }\r\n    }\r\n\r\n\r\n    .message-list {\r\n      flex: 1;\r\n      padding: 10rpx;\r\n      padding-bottom: 100rpx;\r\n      box-sizing: border-box;\r\n      background-color: #fff;\r\n\r\n      .notification {\r\n        display: flex;\r\n        justify-content: space-around;\r\n        padding: 20rpx 0;\r\n\r\n        .ntf-box {\r\n          display: flex;\r\n          flex-direction: column;\r\n          height: 100%;\r\n          align-items: center;\r\n\r\n          .ntf-icon {\r\n            background-color: #f8f8f8;\r\n            border-radius: 40%;\r\n          }\r\n\r\n          .ntf-content {\r\n            margin-top: 16rpx;\r\n            font-size: 24rpx;\r\n            font-weight: 900rpx;\r\n          }\r\n        }\r\n      }\r\n\r\n      .message-item {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 15rpx;\r\n\r\n        .friend-avatar {\r\n          width: 80rpx;\r\n          height: 80rpx;\r\n          border-radius: 50%;\r\n          margin-right: 30rpx;\r\n          margin-bottom: 20rpx;\r\n        }\r\n\r\n        .message-content {\r\n          flex: 1;\r\n          height: 100rpx;\r\n          display: flex;\r\n          flex-direction: column;\r\n          justify-content: center;\r\n          padding-bottom: 20rpx;\r\n          border-bottom: 1rpx solid #c8c8c8;\r\n\r\n          .friend-name {\r\n            font-size: 32rpx;\r\n            font-weight: 600;\r\n            margin-bottom: 10rpx;\r\n          }\r\n\r\n          .last-message {\r\n            font-size: 28rpx;\r\n            color: #666;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            white-space: nowrap;\r\n          }\r\n        }\r\n\r\n        .time-and-unreadcount {\r\n          height: 100rpx;\r\n          display: flex;\r\n          flex-direction: column;\r\n          justify-content: space-between;\r\n          align-items: flex-end;\r\n          padding-bottom: 20rpx;\r\n          border-bottom: 1px solid #c8c8c8;\r\n\r\n          .last-message-time {\r\n            margin-top: 10rpx;\r\n          }\r\n\r\n          .unread-count {\r\n            width: 34rpx;\r\n            height: 34rpx;\r\n            background-color: #ff0000;\r\n            color: #fff;\r\n            font-size: 24rpx;\r\n            border-radius: 50%;\r\n            text-align: center;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>","import MiniProgramPage from 'D:/Users/chenyidong/Downloads/yyub-master/pages/message/message.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","computed"],"mappings":";;;;;;;;;;AA8DE,MAAM,SAAS,MAAW;;;;AAG1B,UAAM,WAAWA,cAAAA,IAAI;AAAA,MAAC;AAAA,QAClB,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,IACL,CAAG;AAID,UAAM,iBAAiB,CAAC,YAAY;AAClCC,oBAAAA,MAAI,WAAW;AAAA;AAAA,QAEb,KAAK;AAAA,MACX,CAAK;AAAA,IACL;AAGE,UAAM,gBAAgBD,kBAAI,EAAE;AAC5B,UAAM,mBAAmBE,cAAAA,SAAS,MAAM;AACtC,aAAO,SAAS,MAAM;AAAA,QAAO,CAAC,YAC5B,QAAQ,WAAW,SAAS,cAAc,KAAK;AAAA,MACrD;AAAA,IACA,CAAG;AAED,aAAS,aAAa;AAAA,IAErB;AAED,aAAS,YAAY;AAAA,IAEpB;AAED,aAAS,eAAe;AAAA,IAEvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrKH,GAAG,WAAW,eAAe;"}