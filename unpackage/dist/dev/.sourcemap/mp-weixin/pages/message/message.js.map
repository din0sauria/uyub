{"version":3,"file":"message.js","sources":["pages/message/message.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWVzc2FnZS9tZXNzYWdlLnZ1ZQ"],"sourcesContent":["<template>\n\n  <view class=\"layout\">\n\n    <!-- 好友列表 -->\n    <scroll-view class=\"message-list\" scroll-y>\n      <view class=\"notification\">\n        <view class=\"ntf-box\">\n          <uni-icons class=\"ntf-icon\" type=\"personadd-filled\" color=\"#ffaa00\" size=\"80rpx\"\n            @click=\"addfriend\"></uni-icons>\n          <text class=\"ntf-content\">添加好友</text>\n        </view>\n        <view class=\"ntf-box\">\n          <uni-icons class=\"ntf-icon\" type=\"staff-filled\" color=\"#00aaff\" size=\"80rpx\"\n            @click=\"checkNewFans\"></uni-icons>\n          <text class=\"ntf-content\">好友申请</text>\n        </view>\n      </view>\n      <view v-for=\"message in filteredMessages\" :key=\"message.friendId\" class=\"message-item\"\n        @click=\"goToChatWindow(message)\">\n        <!-- 头像 -->\n        <image class=\"friend-avatar\" :src=\"message.friendAvatar\" mode=\"aspectFill\"></image>\n\n        <!-- 昵称和最后一条消息 -->\n        <view class=\"message-content\">\n          <text class=\"friend-name\">{{ message.friendName }}</text>\n          <text class=\"last-message\">{{ message.lastMessage }}</text>\n        </view>\n\n        <!-- 最后一条消息时间和未读消息条数 -->\n        <view class=\"time-and-unreadcount\">\n          <view class=\"last-message-time\">\n            {{message.lastMessageTime}}\n          </view>\n          <view v-if=\"message.unreadCount > 0\" class=\"unread-count\">\n            {{ message.unreadCount }}\n          </view>\n        </view>\n      </view>\n    </scroll-view>\n    <tabBar :selectedIndex=\"2\" ref=\"tabBarRef\" />\n  </view>\n</template>\n\n<script setup>\n  import {\n    ref,\n    computed\n  } from 'vue';\n  import tabBar from '/components/tabBar.vue';\n\n  // 模拟好友数据\n  const messages = ref([{\n      friendId: 1,\n      friendName: '小美',\n      friendAvatar: '/static/lyt4.jpg',\n      lastMessage: '你好，我是彭于晏。',\n      lastMessageTime: '18:35',\n      unreadCount: 0,\n    },\n    {\n      friendId: 2,\n      friendName: '恐龙苯龙',\n      friendAvatar: '/static/xkl.jpg',\n      lastMessage: 'ltdd超市',\n      lastMessageTime: '18:33',\n      unreadCount: 1,\n    },\n    {\n      friendId: 5,\n      friendName: 'little day day',\n      friendAvatar: '/static/ltdd.jpg',\n      lastMessage: 'qwq',\n      lastMessageTime: '17:59',\n      unreadCount: 1,\n    },\n    {\n      friendId: 3,\n      friendName: '小蓝',\n      friendAvatar: '/static/zjy.jpg',\n      lastMessage: 'OKOK',\n      lastMessageTime: '11:56',\n      unreadCount: 2,\n    },\n    {\n      friendId: 4,\n      friendName: '小雅',\n      friendAvatar: '/static/lyt2.jpg',\n      lastMessage: '拜拜',\n      lastMessageTime: '09:13',\n      unreadCount: 0,\n    },\n    {\n      friendId: 9,\n      friendName: '小帅',\n      friendAvatar: '/static/lm.jpg',\n      lastMessage: '好嘞！',\n      lastMessageTime: '昨天 23:22',\n      unreadCount: 1,\n    },\n    {\n      friendId: 6,\n      friendName: '小薇',\n      friendAvatar: '/static/lyt1.jpg',\n      lastMessage: '我们不可能',\n      lastMessageTime: '昨天 22:14',\n      unreadCount: 0,\n    },\n    {\n      friendId: 7,\n      friendName: '小萱',\n      friendAvatar: '/static/lyt3.jpg',\n      lastMessage: '好吧',\n      lastMessageTime: '星期一',\n      unreadCount: 0,\n    }\n  ]);\nconst addfriend = () => {\r\n  uni.navigateTo({\r\n    url: '/pages/message/add-friend'\r\n  });\r\n}\n\n  // 跳转到聊天窗口\n  const goToChatWindow = (message) => {\n    uni.navigateTo({\n        url: `/pages/message/chat-window?friendId=${message.friendId}&friendName=${message.friendName}&friendAvatar=${message.friendAvatar}`,\n      // url: '/pages/message/chat-window',\n    });\n  };\n\n  // 搜索功能\n  const searchKeyword = ref('');\n  const filteredMessages = computed(() => {\n    return messages.value.filter((message) =>\n      message.friendName.includes(searchKeyword.value)\n    );\n  });\n\n  function checkReply() {\n\n  }\n\n  function checkLike() {\n\n  }\n\n  function checkNewFans() {\n\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .layout {\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    background-color: #fff;\n\n    .header {\n      padding: 40rpx;\n      background-color: #f8f8f8;\n      text-align: center;\n      font-size: 36rpx;\n      font-weight: bold;\n    }\n\n    .search-box {\n      margin: 3rpx auto;\n      width: 90%;\n      height: 80rpx;\n      line-height: 80rpx;\n      /* 确保 line-height 与 height 一致 */\n      padding-left: 20rpx;\n      /* 为输入框的左侧添加内边距 */\n      border: 3rpx solid gray;\n      border-radius: 40rpx;\n      box-shadow: 5rpx 5rpx #fff;\n      display: flex;\n      align-items: center;\n      /* 垂直居中 */\n\n      .search-area {\n        flex-grow: 1;\n      }\n\n      .search-icon {\n        margin-right: 10rpx;\n      }\n    }\n\n\n    .message-list {\n      flex: 1;\n      padding: 10rpx;\n      padding-bottom: 100rpx;\n      box-sizing: border-box;\n      background-color: #fff;\n\n      .notification {\n        display: flex;\n        justify-content: space-around;\n        padding: 20rpx 0;\n\n        .ntf-box {\n          display: flex;\n          flex-direction: column;\n          height: 100%;\n          align-items: center;\n\n          .ntf-icon {\n            background-color: #f8f8f8;\n            border-radius: 40%;\n          }\n\n          .ntf-content {\n            margin-top: 16rpx;\n            font-size: 24rpx;\n            font-weight: 900rpx;\n          }\n        }\n      }\n\n      .message-item {\n        display: flex;\n        align-items: center;\n        padding: 15rpx;\n\n        .friend-avatar {\n          width: 80rpx;\n          height: 80rpx;\n          border-radius: 50%;\n          margin-right: 30rpx;\n          margin-bottom: 20rpx;\n        }\n\n        .message-content {\n          flex: 1;\n          height: 100rpx;\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          padding-bottom: 20rpx;\n          border-bottom: 1rpx solid #c8c8c8;\n\n          .friend-name {\n            font-size: 32rpx;\n            font-weight: 600;\n            margin-bottom: 10rpx;\n          }\n\n          .last-message {\n            font-size: 28rpx;\n            color: #666;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            white-space: nowrap;\n          }\n        }\n\n        .time-and-unreadcount {\n          height: 100rpx;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          align-items: flex-end;\n          padding-bottom: 20rpx;\n          border-bottom: 1px solid #c8c8c8;\n\n          .last-message-time {\n            margin-top: 10rpx;\n          }\n\n          .unread-count {\n            width: 34rpx;\n            height: 34rpx;\n            background-color: #ff0000;\n            color: #fff;\n            font-size: 24rpx;\n            border-radius: 50%;\n            text-align: center;\n          }\n        }\n      }\n    }\n  }\n</style>","import MiniProgramPage from 'E:/program/FrontEnd/uni/uyub/pages/message/message.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","computed"],"mappings":";;;;;;;;;;AAiDE,MAAM,SAAS,MAAW;;;;AAG1B,UAAM,WAAWA,cAAAA,IAAI;AAAA,MAAC;AAAA,QAClB,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,MACD;AAAA,QACE,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,cAAc;AAAA,QACd,aAAa;AAAA,QACb,iBAAiB;AAAA,QACjB,aAAa;AAAA,MACd;AAAA,IACL,CAAG;AACH,UAAM,YAAY,MAAM;AACtBC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACT,CAAG;AAAA,IACH;AAGE,UAAM,iBAAiB,CAAC,YAAY;AAClCA,oBAAAA,MAAI,WAAW;AAAA,QACX,KAAK,uCAAuC,QAAQ,QAAQ,eAAe,QAAQ,UAAU,iBAAiB,QAAQ,YAAY;AAAA;AAAA,MAE1I,CAAK;AAAA,IACL;AAGE,UAAM,gBAAgBD,kBAAI,EAAE;AAC5B,UAAM,mBAAmBE,cAAAA,SAAS,MAAM;AACtC,aAAO,SAAS,MAAM;AAAA,QAAO,CAAC,YAC5B,QAAQ,WAAW,SAAS,cAAc,KAAK;AAAA,MACrD;AAAA,IACA,CAAG;AAUD,aAAS,eAAe;AAAA,IAEvB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpJH,GAAG,WAAW,eAAe;"}