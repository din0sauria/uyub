{"version":3,"file":"add-friend.js","sources":["pages/message/add-friend.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWVzc2FnZS9hZGQtZnJpZW5kLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 好友ID输入 -->\n    <view class=\"form-item\">\n      <text class=\"item-label\">好友ID</text>\n      <input \n        type=\"text\" \n        v-model=\"formData.friendId\" \n        class=\"input-field\"\n        placeholder=\"请输入对方ID\"\n        placeholder-class=\"placeholder-style\"\n      />\n    </view>\n\n    <!-- 验证消息输入 -->\n    <view class=\"form-item content-item\">\n      <text class=\"item-label\">验证消息</text>\n      <view class=\"textarea-container\">\n        <textarea \n          v-model=\"formData.message\" \n          class=\"textarea-field\"\n          placeholder=\"请输入验证信息（可选）\"\n          placeholder-class=\"placeholder-style\"\n          auto-height\n        />\n      </view>\n    </view>\n\n    <!-- 提交按钮 -->\n    <view class=\"submit-btn\" @click=\"handleSubmit\">\n      <text class=\"btn-text\">{{ loading ? '发送中...' : '发送好友请求' }}</text>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, reactive } from 'vue';\nimport { onReady } from '@dcloudio/uni-app';\n\n// 表单数据\nconst formData = reactive({\n  friendId: '',\n  message: '我是'\n});\n\n// 用户信息\nconst userInfo = reactive({\n  avatar: '/static/dinohead.jpg',\n  nickname: '未登录用户',\n  userID: '',\n  birthday: ''\n});\n\n// 加载状态\nconst loading = ref(false);\n\n// 打开页面时读取本地存储的数据\nonReady(() => {\n  const stored = uni.getStorageSync('userInfo');\n  if (stored) {\n    Object.assign(userInfo, stored); // 保持响应式\n  }\n});\n\n// 提交处理\nconst handleSubmit = async () => {\n  if (!formData.friendId.trim()) {\n    uni.showToast({ title: '请输入对方ID', icon: 'none' });\n    return;\n  }\n\n  if (loading.value) return;\n  loading.value = true;\n\n  // 模拟API调用\n  const res = await mockAddFriendAPI(formData);\n\n  if (res.success) {\n    uni.showToast({ title: '请求已发送', icon: 'success' });\n    setTimeout(() => uni.navigateBack(), 1500);\n  } else {\n    uni.showModal({\n      title: '发送失败',\n      content: res.message || '请检查ID是否正确',\n      showCancel: false\n    });\n  }\n\n  loading.value = false;\n};\n\n// 模拟API接口\nconst mockAddFriendAPI = (data) => {\n  return new Promise(resolve => {\n    setTimeout(() => {\n      resolve({\n        success: Math.random() > 0.5, \n        message: '对方不存在或网络错误'\n      });\n    }, 800);\n  });\n};\n</script>\n\n<style scoped>\n.container {\n  padding: 30rpx;\n  background: #f8f9fa;\n  min-height: 100vh;\n}\n\n.form-item {\n  margin-bottom: 40rpx;\n  background: white;\n  border-radius: 16rpx;\n  padding: 30rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n}\n\n.item-label {\n  display: block;\n  font-size: 30rpx;\n  color: #333;\n  margin-bottom: 20rpx;\n  font-weight: 500;\n}\n\n.input-field, .textarea-field {\n  padding: 20rpx;\n  border: 2rpx solid #e9ecef;\n  border-radius: 8rpx;\n  font-size: 28rpx;\n  color: #333;\n  width: 90%;\n}\n\n.placeholder-style {\n  color: #adb5bd;\n  font-size: 28rpx;\n}\n\n.textarea-container {\n  display: flex;\n  flex-direction: column;\n}\n\n.submit-btn {\n  margin: 40rpx 0;\n  background: #007aff;\n  border-radius: 50rpx;\n  padding: 25rpx 0;\n  text-align: center;\n  position: fixed;\n  width: 80%;\n  bottom: 0;\n  left: 10%;\n  box-shadow: 0 0 10rpx rgba(0, 0, 0, 0.1);\n  z-index: 9;\n}\n\n.btn-text {\n  color: white;\n  font-size: 32rpx;\n  font-weight: 500;\n}\n\n.submit-btn:active {\n  opacity: 0.9;\n}\n</style>","import MiniProgramPage from 'E:/program/FrontEnd/uni/uyub/pages/message/add-friend.vue'\nwx.createPage(MiniProgramPage)"],"names":["reactive","ref","onReady","uni"],"mappings":";;;;;AAwCA,UAAM,WAAWA,cAAAA,SAAS;AAAA,MACxB,UAAU;AAAA,MACV,SAAS;AAAA,IACX,CAAC;AAGD,UAAM,WAAWA,cAAAA,SAAS;AAAA,MACxB,QAAQ;AAAA,MACR,UAAU;AAAA,MACV,QAAQ;AAAA,MACR,UAAU;AAAA,IACZ,CAAC;AAGD,UAAM,UAAUC,cAAAA,IAAI,KAAK;AAGzBC,kBAAAA,QAAQ,MAAM;AACZ,YAAM,SAASC,cAAAA,MAAI,eAAe,UAAU;AAC5C,UAAI,QAAQ;AACV,eAAO,OAAO,UAAU,MAAM;AAAA,MAC/B;AAAA,IACH,CAAC;AAGD,UAAM,eAAe,YAAY;AAC/B,UAAI,CAAC,SAAS,SAAS,QAAQ;AAC7BA,sBAAG,MAAC,UAAU,EAAE,OAAO,WAAW,MAAM,OAAM,CAAE;AAChD;AAAA,MACD;AAED,UAAI,QAAQ;AAAO;AACnB,cAAQ,QAAQ;AAGhB,YAAM,MAAM,MAAM,iBAAyB;AAE3C,UAAI,IAAI,SAAS;AACfA,sBAAG,MAAC,UAAU,EAAE,OAAO,SAAS,MAAM,UAAS,CAAE;AACjD,mBAAW,MAAMA,cAAG,MAAC,aAAc,GAAE,IAAI;AAAA,MAC7C,OAAS;AACLA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,SAAS,IAAI,WAAW;AAAA,UACxB,YAAY;AAAA,QAClB,CAAK;AAAA,MACF;AAED,cAAQ,QAAQ;AAAA,IAClB;AAGA,UAAM,mBAAmB,CAAC,SAAS;AACjC,aAAO,IAAI,QAAQ,aAAW;AAC5B,mBAAW,MAAM;AACf,kBAAQ;AAAA,YACN,SAAS,KAAK,OAAM,IAAK;AAAA,YACzB,SAAS;AAAA,UACjB,CAAO;AAAA,QACF,GAAE,GAAG;AAAA,MACV,CAAG;AAAA,IACH;;;;;;;;;;;;;;ACpGA,GAAG,WAAW,eAAe;"}