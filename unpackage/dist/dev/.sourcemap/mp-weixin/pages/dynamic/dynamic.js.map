{"version":3,"file":"dynamic.js","sources":["pages/dynamic/dynamic.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZHluYW1pYy9keW5hbWljLnZ1ZQ"],"sourcesContent":["<template>\r\n\r\n\t<!-- 朋友圈动态列表 -->\r\n\t<view class=\"container\">\r\n\t\t<scroll-view class=\"dynamic-list\" scroll-y>\r\n\t\t\t<view class=\"dynamic-item\" v-for=\"(dynamicItem, dynamicIndex) in dynamicList\" :key=\"dynamicItem.dynamicID\">\r\n\t\t\t\t<!-- 用户头像和昵称 -->\r\n\t\t\t\t<view class=\"user-info\">\r\n\t\t\t\t\t<image class=\"avatar\" :src=\"dynamicItem.avatar\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<text class=\"nickname\">{{ dynamicItem.nickname }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 动态内容 -->\r\n\t\t\t\t<view class=\"content\">\r\n\t\t\t\t\t<text class=\"text\">{{ dynamicItem.content }}</text>\r\n\t\t\t\t\t<!-- 动态图片 -->\r\n\t\t\t\t\t<view class=\"image-list\" v-if=\"dynamicItem.images && dynamicItem.images.length > 0\">\r\n\t\t\t\t\t\t<image class=\"image\" v-for=\"(img, imgIndex) in dynamicItem.images\" :key=\"imgIndex\" :src=\"img\"\r\n\t\t\t\t\t\t\tmode=\"aspectFill\">\r\n\t\t\t\t\t\t</image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 动态时间和点赞评论 -->\r\n\t\t\t\t<view class=\"footer\">\r\n\t\t\t\t\t<text class=\"time\">{{ dynamicItem.time }}</text>\r\n\t\t\t\t\t<view class=\"actions\">\r\n\r\n\t\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t\t<uni-icons class=\"action-icon\" :type=\"dynamicItem.isLiked?'hand-up-filled':'hand-up'\"\r\n\t\t\t\t\t\t\t\tsize=\"35\" color=\"rgb(20, 20, 20)\" @click=\"onLike(dynamicItem)\"></uni-icons>\r\n\t\t\t\t\t\t\t<text class=\"action-content\">{{dynamicItem.likeCount}}</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t\t<uni-icons class=\"action-icon\" type=\"chat\" size=\"35\" color=\"rgb(20, 20, 20)\"\r\n\t\t\t\t\t\t\t\t@click=\"onComment(dynamicItem)\"></uni-icons>\r\n\t\t\t\t\t\t\t<text class=\"action-content\">{{dynamicItem.commentList.length}}</text>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"dynamic-comment\" v-for=\"(commentItem, commentIndex) in dynamicItem.commentList\"\r\n\t\t\t\t\t:key=\"commentIndex\">\r\n\t\t\t\t\t<text class=\"commentor\" style=\"font-weight:1000\">{{ commentItem.commentor }}</text>\r\n\t\t\t\t\t<text class=\"comment-content\">: {{ commentItem.content }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"height: 200rpx;\"></view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n\t<midButton />\r\n\t<tabBar :selectedIndex=\"1\" />\r\n</template>\r\n\r\n<script setup>\r\n\timport midButton from '/components/midbutton.vue'\r\n\timport tabBar from '/components/tabBar.vue'\r\n\timport {\r\n\t\tref\r\n\t} from 'vue'\r\n\t// 朋友圈数据\r\n\tconst dynamicList = ref([{\r\n\t\t\tdynamicID: 1,\r\n\t\t\tavatar: '/static/dinohead.jpg',\r\n\t\t\tnickname: '恐龙苯龙',\r\n\t\t\tcontent: '今天天气真好，恐龙想CSltdd！',\r\n\t\t\timages: [\r\n\t\t\t\t'/static/dinoonsea.jpg',\r\n\t\t\t\t'/static/csltdd.jpg',\r\n\t\t\t],\r\n\t\t\ttime: '1小时前',\r\n\t\t\tisLiked: false,\r\n\t\t\tlikeCount: 156,\r\n\t\t\tcommentList: [{\r\n\t\t\t\tcommentor: 'ltdd',\r\n\t\t\t\tcontent: '不是哥们'\r\n\t\t\t}]\r\n\t\t},\r\n\t\t{\r\n\t\t\tdynamicID: 2,\r\n\t\t\tavatar: '/static/lyt3.jpg',\r\n\t\t\tnickname: '小雅',\r\n\t\t\tcontent: '分享一张照片～',\r\n\t\t\timages: ['/static/lyt4.jpg'],\r\n\t\t\ttime: '2小时前',\r\n\t\t\tisLiked: false,\r\n\t\t\tlikeCount: 99,\r\n\t\t\tcommentList: []\r\n\t\t},\r\n\t\t{\r\n\t\t\tdynamicID: 3,\r\n\t\t\tavatar: '/static/zjy.jpg',\r\n\t\t\tnickname: '小蓝',\r\n\t\t\tcontent: '今天学习了新的编程知识，感觉收获满满！',\r\n\t\t\timages: [],\r\n\t\t\ttime: '3小时前',\r\n\t\t\tisLiked: false,\r\n\t\t\tlikeCount: 248,\r\n\t\t\tcommentList: []\r\n\t\t},\r\n\t])\r\n\r\n\tfunction onLike(dynamicItem) {\r\n\t\tdynamicItem.isLiked = !dynamicItem.isLiked;\r\n\t\tif (dynamicItem.isLiked) {\r\n\t\t\tdynamicItem.likeCount += 1; // 点赞数 +1\r\n\t\t} else {\r\n\t\t\tdynamicItem.likeCount -= 1; // 点赞数 -1\r\n\t\t}\r\n\t}\r\n\r\n\tfunction onComment(dynamicItem) {\r\n\t\t// 弹出评论输入框\r\n\t\tuni.showModal({\r\n\t\t\ttitle: \"发表评论\",\r\n\t\t\tshowCancel: true,\r\n\t\t\teditable: true, // 显示输入框\r\n\t\t\tplaceholderText: \"请输入评论内容\",\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\tconst commentContent = res.content.trim();\r\n\t\t\t\t\tif (commentContent) {\r\n\t\t\t\t\t\t// 添加评论到动态的评论列表\r\n\t\t\t\t\t\tconst stored = uni.getStorageSync('userInfo');\r\n\r\n\t\t\t\t\t\tdynamicItem.commentList.push({\r\n\t\t\t\t\t\t\tcommentor: stored.nickname,\r\n\t\t\t\t\t\t\tcontent: commentContent\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconsole.log(dynamicItem.commentList);\r\n\t\t\t\t\t\t// 更新评论数\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"评论内容不能为空\",\r\n\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.container {\r\n\t\tpadding: 20rpx;\r\n\r\n\r\n\t\t.dynamic-list {\r\n\t\t\t.dynamic-item {\r\n\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t\tpadding: 20rpx;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.1);\r\n\r\n\t\t\t\t.user-info {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\t\t.avatar {\r\n\t\t\t\t\t\twidth: 80rpx;\r\n\t\t\t\t\t\theight: 80rpx;\r\n\t\t\t\t\t\tborder-radius: 50%;\r\n\t\t\t\t\t\tmargin-right: 20rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.nickname {\r\n\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.content {\r\n\t\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\t\t.text {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tline-height: 1.5;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.image-list {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t\t\tmargin-top: 20rpx;\r\n\r\n\t\t\t\t\t\t.image {\r\n\t\t\t\t\t\t\twidth: 200rpx;\r\n\t\t\t\t\t\t\theight: 200rpx;\r\n\t\t\t\t\t\t\tmargin-right: 10rpx;\r\n\t\t\t\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t\t\t\t\tborder-radius: 10rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.footer {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\r\n\t\t\t\t\t.actions {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t\t.action {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\tmargin-left: 24rpx;\r\n\r\n\t\t\t\t\t\t\t.action-icon {\r\n\t\t\t\t\t\t\t\tmargin-right: 8rpx;\r\n\t\t\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.dynamic-comment {\r\n\t\t\t\t\t\tmargin: 30rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/program/FrontEnd/uni/uyub/pages/dynamic/dynamic.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni"],"mappings":";;;;;;;;;;AAsDC,MAAM,YAAY,MAAW;AAC7B,MAAM,SAAS,MAAW;;;;AAK1B,UAAM,cAAcA,cAAAA,IAAI;AAAA,MAAC;AAAA,QACvB,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,SAAS;AAAA,QACT,QAAQ;AAAA,UACP;AAAA,UACA;AAAA,QACA;AAAA,QACD,MAAM;AAAA,QACN,SAAS;AAAA,QACT,WAAW;AAAA,QACX,aAAa,CAAC;AAAA,UACb,WAAW;AAAA,UACX,SAAS;AAAA,QACb,CAAI;AAAA,MACD;AAAA,MACD;AAAA,QACC,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,SAAS;AAAA,QACT,QAAQ,CAAC,kBAAkB;AAAA,QAC3B,MAAM;AAAA,QACN,SAAS;AAAA,QACT,WAAW;AAAA,QACX,aAAa,CAAE;AAAA,MACf;AAAA,MACD;AAAA,QACC,WAAW;AAAA,QACX,QAAQ;AAAA,QACR,UAAU;AAAA,QACV,SAAS;AAAA,QACT,QAAQ,CAAE;AAAA,QACV,MAAM;AAAA,QACN,SAAS;AAAA,QACT,WAAW;AAAA,QACX,aAAa,CAAE;AAAA,MACf;AAAA,IACH,CAAE;AAED,aAAS,OAAO,aAAa;AAC5B,kBAAY,UAAU,CAAC,YAAY;AACnC,UAAI,YAAY,SAAS;AACxB,oBAAY,aAAa;AAAA,MAC5B,OAAS;AACN,oBAAY,aAAa;AAAA,MACzB;AAAA,IACD;AAED,aAAS,UAAU,aAAa;AAE/BC,oBAAAA,MAAI,UAAU;AAAA,QACb,OAAO;AAAA,QACP,YAAY;AAAA,QACZ,UAAU;AAAA;AAAA,QACV,iBAAiB;AAAA,QACjB,SAAS,CAAC,QAAQ;AACjB,cAAI,IAAI,SAAS;AAChB,kBAAM,iBAAiB,IAAI,QAAQ,KAAI;AACvC,gBAAI,gBAAgB;AAEnB,oBAAM,SAASA,cAAAA,MAAI,eAAe,UAAU;AAE5C,0BAAY,YAAY,KAAK;AAAA,gBAC5B,WAAW,OAAO;AAAA,gBAClB,SAAS;AAAA,cAChB,CAAO;AACDA,4BAAA,MAAA,MAAA,OAAA,oCAAY,YAAY,WAAW;AAAA,YAEzC,OAAY;AACNA,4BAAAA,MAAI,UAAU;AAAA,gBACb,OAAO;AAAA,gBACP,MAAM;AAAA,cACb,CAAO;AAAA,YACD;AAAA,UACD;AAAA,QACD;AAAA,MACJ,CAAG;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1IF,GAAG,WAAW,eAAe;"}