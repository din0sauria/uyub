{"version":3,"file":"index.js","sources":["pages/index/index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <scroll-view class=\"container\" ref=\"container\" scroll-y @scroll=\"onScroll\">\r\n\r\n\r\n    <!-- 轮播图 -->\r\n    <swiper class=\"swiper\" autoplay circular>\r\n      <swiper-item v-for=\"(item, index) in swiperList\" :key=\"index\">\r\n        <image :src=\"item.image\" mode=\"aspectFill\" style=\"width: 100%;\"></image>\r\n      </swiper-item>\r\n    </swiper>\r\n\r\n    <!-- 搜索框 -->\r\n    <view class=\"search-box\" v-if=\"awesome\" @click=\"goToSearch\">\r\n      <uni-icons type=\"search\"></uni-icons>\r\n      <input class=\"search-input\" placeholder=\" 搜索活动\">\r\n    </view>\r\n\r\n    <view class=\"sticky-box\" v-else @click=\"goToSearch\">\r\n      <view class=\"sticky-search\">\r\n        <uni-icons type=\"search\"></uni-icons>\r\n        <input class=\"search-input\" placeholder=\" 搜索活动\">\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 活动类型 Tab -->\r\n    <view :class=\"tab\">\r\n      <view class=\"active-bar\">\r\n        <view v-for=\"(tab, index) in tabs\" :key=\"index\" class=\"tab-item\" :class=\"{ active: activeTab === index }\"\r\n          @click=\"activeTab = index\">\r\n          {{ tab }}\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 筛选条件 -->\r\n    <view :class=\"filter\">\r\n      <view class=\"filter\">\r\n        <view class=\"date-picker\"><uni-datetime-picker type=\"date\" :clear-icon=\"false\" v-model=\"single\"\r\n            :border=\"false\" /></view>\r\n        <view class=\"city-picker\">\r\n          <uni-icons type=\"location\"></uni-icons>\r\n          <picker mode=\"region\" @change=\"onRegionChange\" level=\"city\">{{city}}</picker>\r\n        </view>\r\n        <picker mode=\"selector\" :range=\"filters\" @change=\"onFilterChange\">\r\n          {{ filters[selectedFilter] }}\r\n          <uni-icons type=\"down\"></uni-icons>\r\n        </picker>\r\n\r\n      </view>\r\n    </view>\r\n    <!-- 活动卡片 -->\r\n    <scroll-view class=\"card-list\">\r\n      <ActivityCard v-for=\"(activity, index) in activities\" :key=\"index\" :id=\"activity.id\" :title=\"activity.title\"\r\n        :price=\"activity.price\" :address=\"activity.address\" :date=\"activity.date\" :time=\"activity.time\"\r\n        :status=\"activity.status\" :participants=\"activity.participants\" :plan=\"activity.plan\" :tag=\"activity.tag\" />\r\n    </scroll-view>\r\n    <view style=\"height: 200rpx;\"></view>\r\n  </scroll-view>\r\n \r\n  <mid-button />\r\n  <tabBar :selectedIndex=\"0\" />\r\n</template>\r\n\r\n<script setup>\r\n  import {\r\n    ref,\r\n    computed\r\n  } from 'vue';\r\n  import {\r\n    onLoad\r\n  } from '@dcloudio/uni-app'\r\n  import ActivityCard from '/components/card.vue';\r\n  import MidButton from '/components/midbutton.vue';\r\n  import tabBar from '/components/tabBar.vue';\r\n\r\n  // 轮播图数据\r\n  const swiperList = ref([{\r\n    image: '/static/index/post1.png'\r\n  }]);\r\n  const goToSearch = () => {\r\n    uni.navigateTo({\r\n      url: '/pages/index/search' // 替换为你的搜索页面路径\r\n    });\r\n  };\r\n\r\n\r\n  // 活动类型 Tab\r\n  const tabs = ref(['羽毛球', '游戏', '乒乓球', '其他']);\r\n  const activeTab = ref(0);\r\n\r\n  // 日期选择(默认今天)\r\n  const single = ref(new Date().toISOString().split('T')[0]);\r\n\r\n  // 下拉筛选条件\r\n  const filters = ref(['不限', '萌新', '中级', '高级']);\r\n  const selectedFilter = ref(0);\r\n\r\n  // 筛选条件变化\r\n  const onFilterChange = (e) => {\r\n    selectedFilter.value = e.detail.value;\r\n  };\r\n\r\n  const activities = [{\r\n      id: '1',\r\n      title: '星禾羽毛球运动中心',\r\n      price: '¥50',\r\n      address: '星禾羽毛球运动中心',\r\n      date: '02月07日 周五',\r\n      time: '19:00-22:00',\r\n      status: '正在报名',\r\n      participants: 99,\r\n      plan: 100,\r\n      tag: '不限'\r\n    },\r\n    {\r\n      id: '2',\r\n      title: '幸福林带冠深酷动力羽毛球馆',\r\n      price: '¥60',\r\n      address: '幸福林带冠深酷动力羽毛球馆',\r\n      date: '02月07日 周五',\r\n      time: '19:00-22:00',\r\n      status: '报名结束',\r\n      participants: 8,\r\n      plan: 10,\r\n      tag: '高级'\r\n    },\r\n    {\r\n      id: '3',\r\n      title: '西安奥体中心羽毛球馆',\r\n      price: '¥50',\r\n      address: '西安市国际港务区港丰路69号',\r\n      date: '02月07日 周五',\r\n      time: '09:00-22:00',\r\n      status: '正在报名',\r\n      participants: 50,\r\n      plan: 100,\r\n      tag: '高级'\r\n    },\r\n    {\r\n      id: '4',\r\n      title: '新曈羽毛球训练中心',\r\n      price: '¥60',\r\n      address: '西安省体育馆BE中心',\r\n      date: '02月07日 周五',\r\n      time: '10:00-22:00',\r\n      status: '报名中',\r\n      participants: 20,\r\n      plan: 50,\r\n      tag: '高级'\r\n    },\r\n    {\r\n      id: '5',\r\n      title: '西安西北大学羽毛球馆',\r\n      price: '¥10',\r\n      address: '西安市太白北路229号西北大学校内',\r\n      date: '02月07日 周五',\r\n      time: '14:30-22:00',\r\n      status: '报名中',\r\n      participants: 30,\r\n      plan: 60,\r\n      tag: '中级'\r\n    },\r\n    {\r\n      id: '6',\r\n      title: '朱雀羽毛球馆',\r\n      price: '¥35',\r\n      address: '西安市碑林区长安路北段14号',\r\n      date: '02月07日 周五',\r\n      time: '09:00-22:00',\r\n      status: '正在报名',\r\n      participants: 40,\r\n      plan: 80,\r\n      tag: '高级'\r\n    },\r\n    {\r\n      id: '7',\r\n      title: '西安博蓝羽毛球馆',\r\n      price: '免费',\r\n      address: '西安市经济开发区凤城十路99号蓝天院内',\r\n      date: '02月07日 周五',\r\n      time: '08:00-22:00',\r\n      status: '报名中',\r\n      participants: 10,\r\n      plan: 30,\r\n      tag: '萌新'\r\n    }\r\n  ];\r\n\r\n\r\n  const container = ref(null); // 容器引用\r\n  const scrollTop = ref(0); // 滚动距离\r\n  // 监听滚动事件\r\n  const onScroll = (e) => {\r\n    scrollTop.value = e.detail.scrollTop; // 更新滚动距离\r\n  };\r\n\r\n  // 计算属性，判断是否小于 300rpx\r\n  const awesome = computed(() => {\r\n    const rpxToPx = (rpx) => {\r\n      const windowWidth = uni.getWindowInfo().screenWidth;\r\n      const pixelRatio = windowWidth / 750; // 750 是设计稿宽度\r\n      return rpx * pixelRatio;\r\n    };\r\n    return scrollTop.value < rpxToPx(250); // 将 rpx 转换为 px\r\n  });\r\n\r\n  const tab = computed(() => {\r\n    return awesome.value ? '' : 'sticky-tab';\r\n  });\r\n  const filter = computed(() => {\r\n    return awesome.value ? '' : 'sticky-filter';\r\n  })\r\n  const city = ref('不限');\r\n  const onRegionChange = (e) => {\r\n    city.value = e.detail.value[1];\r\n  };\r\n</script>\r\n\r\n\r\n<style scoped>\r\n  .container {\r\n    height: 100vh;\r\n  }\r\n\r\n  .swiper {\r\n    width: 100%;\r\n    height: 350rpx;\r\n    transition: height 0.3s;\r\n  }\r\n\r\n\r\n  .search-box {\r\n    position: absolute;\r\n    top: 250rpx;\r\n    background: rgba(255, 255, 255, 0.7);\r\n    padding: 10rpx;\r\n    border-radius: 20rpx;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-left: 30rpx;\r\n    width: 350rpx;\r\n  }\r\n\r\n  .sticky-box {\r\n    position: fixed;\r\n    top: 0rpx;\r\n    z-index: 5;\r\n    background-color: #fff;\r\n    /* 添加背景色 */\r\n    transition: all 0.5s ease-out;\r\n    display: block;\r\n    padding-top: 50rpx;\r\n    height: 60rpx;\r\n    width: 100%;\r\n\r\n  }\r\n\r\n  .sticky-search {\r\n    background-color: #efefef;\r\n    padding: 10rpx;\r\n    border-radius: 20rpx;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-left: 30rpx;\r\n\r\n    width: 350rpx;\r\n    transition: all 0.5s ease-out;\r\n  }\r\n\r\n  .sticky-tab {\r\n    display: block;\r\n    position: fixed;\r\n    top: 110rpx;\r\n    /* 吸附在搜索栏下方 */\r\n    z-index: 4;\r\n    background-color: #fff;\r\n    transition: all 0.5s ease-out;\r\n    width: 100%;\r\n  }\r\n\r\n  .active-bar {\r\n    padding: 10rpx;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    background-color: #fff;\r\n    height: 100%;\r\n  }\r\n\r\n  .tab-item {\r\n    padding: 10rpx;\r\n  }\r\n\r\n  .tab-item.active {\r\n    border-bottom: 5rpx solid #007AFF;\r\n  }\r\n\r\n  .sticky-filter {\r\n    position: fixed;\r\n    top: 170rpx;\r\n    /* 吸附在Tab栏下方 */\r\n    z-index: 3;\r\n    padding-top: 10rpx;\r\n    background-color: #fff;\r\n    transition: top 0.3s;\r\n    width: 100%;\r\n  }\r\n\r\n  .filter {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    background-color: #fff;\r\n    padding: 10rpx;\r\n    height: 100%;\r\n  }\r\n\r\n  .date-picker {\r\n    width: 30%;\r\n  }\r\n  .city-picker{\r\n    width: 30%;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .card-list {\r\n    margin-top: 20rpx;\r\n  }\r\n</style>","import MiniProgramPage from 'E:/program/FrontEnd/uni/uyub/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","computed"],"mappings":"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"}