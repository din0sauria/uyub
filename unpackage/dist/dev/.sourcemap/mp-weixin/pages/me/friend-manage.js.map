{"version":3,"file":"friend-manage.js","sources":["pages/me/friend-manage.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWUvZnJpZW5kLW1hbmFnZS52dWU"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 标题栏 -->\n    <view class=\"header\">\n      <text class=\"title\">我的好友</text>\n    </view>\n\n    <!-- 好友列表 -->\n    <scroll-view scroll-y class=\"friend-list\">\n      <view \n        v-for=\"(friend, index) in friendList\" \n        :key=\"friend.friendId\"\n        class=\"friend-item\"\n      >\n        <image \n          class=\"avatar\" \n          :src=\"friend.avatar || '/static/default-avatar.png'\"\n          mode=\"aspectFill\"\n        />\n        <view class=\"info\">\n          <text class=\"nickname\">{{ friend.nickname || '未命名用户' }}</text>\n          <text class=\"friend-id\">ID: {{ friend.friendId }}</text>\n        </view>\n        <view \n          class=\"delete-btn\" \n          @click=\"handleDelete(friend)\"\n        >\n          <uni-icons type=\"trash\" size=\"30\" color=\"#ff4444\"></uni-icons>\n        </view>\n      </view>\n    </scroll-view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport { onLoad } from '@dcloudio/uni-app';\n\nconst userID = ref(''); // 当前用户ID\nconst friendList = ref([]); // 好友列表\n\n// 获取好友列表\n// const fetchFriends = async () => {\n//   try {\n//     const res = await uni.request({\n//       url: 'https://api.example.com/friends',\n//       method: 'GET',\n//       data: { userID: userID.value }\n//     });\n//     friendList.value = res.data;\n//   } catch (error) {\n//     uni.showToast({ title: '加载失败', icon: 'none' });\n//   }\n// };\r\nconst fetchFriends = async () => {\n  try {\n    friendList.value = [{\n  avatar: '/static/dinohead.jpg',\n  nickname: 'dinosaur1',\n  friendId: '12345678910'},\r\n  {\r\n  avatar: '/static/dinohead.jpg',\r\n  nickname: 'dinosaur2',\r\n  friendId: '12345678911'},]\n  } catch (error) {\n    uni.showToast({ title: '加载失败', icon: 'none' });\n  }\n};\n\n// 删除好友\nconst deleteFriend = async (friendId) => {\n  try {\n    // await uni.request({\n    //   url: 'https://api.example.com/friends/delete',\n    //   method: 'POST',\n    //   data: {\n    //     userID: userID.value,\n    //     friendId\n    //   }\n    // });\n    friendList.value = friendList.value.filter(f => f.friendId !== friendId);\n    uni.showToast({ title: '删除成功', icon: 'success' });\n  } catch (error) {\n    uni.showToast({ title: '删除失败', icon: 'none' });\n  }\n};\n\n// 删除确认\nconst handleDelete = (friend) => {\n  uni.showModal({\n    title: '确认删除',\n    content: `确定要删除好友 ${friend.nickname} 吗？`,\n    success: (res) => {\n      if (res.confirm) {\n        deleteFriend(friend.friendId);\n      }\n    }\n  });\n};\n\nonLoad(() => {\n  userID.value = uni.getStorageSync('userID'); // 假设已存储用户ID\n  fetchFriends();\n});\n</script>\n\n<style lang=\"scss\">\n.container {\n  padding: 24rpx;\n  background-color: #f5f5f5;\n  min-height: 100vh;\n}\n\n.header {\n  padding: 32rpx 0;\n  .title {\n    font-size: 36rpx;\n    font-weight: 600;\n    color: #333;\n  }\n}\n\n.friend-list {\n  height: calc(100vh - 160rpx);\n}\n\n.friend-item {\n  display: flex;\n  align-items: center;\n  padding: 24rpx;\n  margin-bottom: 20rpx;\n  background: #fff;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n  \n  .avatar {\n    width: 100rpx;\n    height: 100rpx;\n    border-radius: 50%;\n    margin-right: 24rpx;\n  }\n\n  .info {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    gap: 8rpx;\n    \n    .nickname {\n      font-size: 32rpx;\n      color: #333;\n    }\n\n    .friend-id {\n      font-size: 24rpx;\n      color: #999;\n    }\n  }\n\n  .delete-btn {\n    padding: 16rpx;\n    margin-left: 16rpx;\n  }\n}\n</style>","import MiniProgramPage from 'E:/program/FrontEnd/uni/uyub/pages/me/friend-manage.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni","onLoad","MiniProgramPage"],"mappings":";;;;;;;;;;;;;AAsCA,UAAM,SAASA,cAAAA,IAAI,EAAE;AACrB,UAAM,aAAaA,cAAAA,IAAI,CAAA,CAAE;AAezB,UAAM,eAAe,YAAY;AAC/B,UAAI;AACF,mBAAW,QAAQ;AAAA,UAAC;AAAA,YACtB,QAAQ;AAAA,YACR,UAAU;AAAA,YACV,UAAU;AAAA,UAAa;AAAA,UACvB;AAAA,YACA,QAAQ;AAAA,YACR,UAAU;AAAA,YACV,UAAU;AAAA,UAAa;AAAA,QAAG;AAAA,MACzB,SAAQ,OAAO;AACdC,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,OAAM,CAAE;AAAA,MAC9C;AAAA,IACH;AAGA,UAAM,eAAe,OAAO,aAAa;AACvC,UAAI;AASF,mBAAW,QAAQ,WAAW,MAAM,OAAO,OAAK,EAAE,aAAa,QAAQ;AACvEA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,UAAS,CAAE;AAAA,MACjD,SAAQ,OAAO;AACdA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,OAAM,CAAE;AAAA,MAC9C;AAAA,IACH;AAGA,UAAM,eAAe,CAAC,WAAW;AAC/BA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS,WAAW,OAAO,QAAQ;AAAA,QACnC,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AACf,yBAAa,OAAO,QAAQ;AAAA,UAC7B;AAAA,QACF;AAAA,MACL,CAAG;AAAA,IACH;AAEAC,kBAAAA,OAAO,MAAM;AACX,aAAO,QAAQD,cAAAA,MAAI,eAAe,QAAQ;AAC1C;IACF,CAAC;;;;;;;;;;;;;;;;;;;;;;ACtGD,GAAG,WAAWE,SAAe;"}