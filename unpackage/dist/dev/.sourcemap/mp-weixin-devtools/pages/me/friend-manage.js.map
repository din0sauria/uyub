{"version":3,"names":["userID","common_vendor","ref","friendList","fetchFriends","_ref","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","wrap","_callee$","_context","prev","next","value","avatar","nickname","friendId","error","index","showToast","title","icon","stop","apply","arguments","deleteFriend","_ref2","_callee2","_callee2$","_context2","filter","f","_x","handleDelete","friend","showModal","content","concat","success","res","confirm","onLoad","getStorageSync","wx","createPage","MiniProgramPage"],"sources":["friend-manage.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbWUvZnJpZW5kLW1hbmFnZS52dWU"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 标题栏 -->\n    <view class=\"header\">\n      <text class=\"title\">我的好友</text>\r\n      <button class=\"add\" @click=\"uni.navigateTo({\r\n        url: '/pages/me/add-friend'\r\n      })\">添加好友</button>\n    </view>\n\n    <!-- 好友列表 -->\n    <scroll-view scroll-y class=\"friend-list\">\n      <view \n        v-for=\"(friend, index) in friendList\" \n        :key=\"friend.friendId\"\n        class=\"friend-item\"\n      >\n        <image \n          class=\"avatar\" \n          :src=\"friend.avatar || '/static/default-avatar.png'\"\n          mode=\"aspectFill\"\n        />\n        <view class=\"info\">\n          <text class=\"nickname\">{{ friend.nickname || '未命名用户' }}</text>\n          <text class=\"friend-id\">ID: {{ friend.friendId }}</text>\n        </view>\n        <view \n          class=\"delete-btn\" \n          @click=\"handleDelete(friend)\"\n        >\n          <uni-icons type=\"trash\" size=\"30\" color=\"#ff4444\"></uni-icons>\n        </view>\n      </view>\n    </scroll-view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport { onLoad } from '@dcloudio/uni-app';\n\nconst userID = ref(''); // 当前用户ID\nconst friendList = ref([]); // 好友列表\n\n// 获取好友列表\n// const fetchFriends = async () => {\n//   try {\n//     const res = await uni.request({\n//       url: 'https://api.example.com/friends',\n//       method: 'GET',\n//       data: { userID: userID.value }\n//     });\n//     friendList.value = res.data;\n//   } catch (error) {\n//     uni.showToast({ title: '加载失败', icon: 'none' });\n//   }\n// };\r\nconst fetchFriends = async () => {\n  try {\n    friendList.value = [{\n  avatar: '/static/dinohead.jpg',\n  nickname: 'dinosaur1',\n  friendId: '12345678910'},\r\n  {\r\n  avatar: '/static/dinohead.jpg',\r\n  nickname: 'dinosaur2',\r\n  friendId: '12345678911'},]\n  } catch (error) {\n    uni.showToast({ title: '加载失败', icon: 'none' });\n  }\n};\n\n// 删除好友\nconst deleteFriend = async (friendId) => {\n  try {\n    // await uni.request({\n    //   url: 'https://api.example.com/friends/delete',\n    //   method: 'POST',\n    //   data: {\n    //     userID: userID.value,\n    //     friendId\n    //   }\n    // });\n    friendList.value = friendList.value.filter(f => f.friendId !== friendId);\n    uni.showToast({ title: '删除成功', icon: 'success' });\n  } catch (error) {\n    uni.showToast({ title: '删除失败', icon: 'none' });\n  }\n};\n\n// 删除确认\nconst handleDelete = (friend) => {\n  uni.showModal({\n    title: '确认删除',\n    content: `确定要删除好友 ${friend.nickname} 吗？`,\n    success: (res) => {\n      if (res.confirm) {\n        deleteFriend(friend.friendId);\n      }\n    }\n  });\n};\n\nonLoad(() => {\n  userID.value = uni.getStorageSync('userID'); // 假设已存储用户ID\n  fetchFriends();\n});\n</script>\n\n<style lang=\"scss\" scoped>\n.container {\n  padding: 24rpx;\n  background-color: #f5f5f5;\n  min-height: 100vh;\n}\n\n.header {\n  padding: 32rpx 0;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width:100%;\n  .title {\n    font-size: 36rpx;\n    font-weight: 600;\n    color: #333;\n  }\r\n  .add{\r\n    height: 60rpx;\r\n    margin: 0;\r\n    font-size: 26rpx;\r\n    line-height: 60rpx;\r\n    color: #fff;\r\n    background-color: #007aff;\r\n    border-radius: 8rpx;\r\n    box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.1);\r\n  }\n}\n\n.friend-list {\n  height: calc(100vh - 160rpx);\n}\n\n.friend-item {\n  display: flex;\n  align-items: center;\n  padding: 24rpx;\n  margin-bottom: 20rpx;\n  background: #fff;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n  \n  .avatar {\n    width: 100rpx;\n    height: 100rpx;\n    border-radius: 50%;\n    margin-right: 24rpx;\n  }\n\n  .info {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    gap: 8rpx;\n    \n    .nickname {\n      font-size: 32rpx;\n      color: #333;\n    }\n\n    .friend-id {\n      font-size: 24rpx;\n      color: #999;\n    }\n  }\n\n  .delete-btn {\n    padding: 16rpx;\n    margin-left: 16rpx;\n  }\n}\n</style>","import MiniProgramPage from 'E:/program/FrontEnd/uni/uyub/pages/me/friend-manage.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;;;;;;;;;;;;;;;IAyCA,IAAMA,MAAA,GAASC,aAAA,CAAAC,GAAA,CAAI,EAAE;IACrB,IAAMC,UAAA,GAAaF,aAAA,CAAAC,GAAA,CAAI,EAAE;IAezB,IAAME,YAAA;MAAA,IAAAC,IAAA,GAAAC,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAe,SAAAC,QAAA;QAAA,OAAAF,oBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACnB,IAAI;gBACFX,UAAA,CAAWY,KAAA,GAAQ,CAAC;kBACtBC,MAAA,EAAQ;kBACRC,QAAA,EAAU;kBACVC,QAAA,EAAU;gBAAa,GACvB;kBACAF,MAAA,EAAQ;kBACRC,QAAA,EAAU;kBACVC,QAAA,EAAU;gBAAa,EAAG;cACzB,SAAQC,KAAA,EAAO;gBACdlB,aAAA,CAAGmB,KAAA,CAACC,SAAA,CAAU;kBAAEC,KAAA,EAAO;kBAAQC,IAAA,EAAM;gBAAM,CAAE;cAC9C;YAAA;YAAA;cAAA,OAAAX,QAAA,CAAAY,IAAA;UAAA;QAAA,GAAAf,OAAA;MAAA,CACH;MAAA,gBAbML,aAAA;QAAA,OAAAC,IAAA,CAAAoB,KAAA,OAAAC,SAAA;MAAA;IAAA,GAaN;IAGA,IAAMC,YAAA;MAAA,IAAAC,KAAA,GAAAtB,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAe,SAAAqB,SAAOX,QAAA;QAAA,OAAAX,oBAAA,GAAAG,IAAA,UAAAoB,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAlB,IAAA,GAAAkB,SAAA,CAAAjB,IAAA;YAAA;cAC1B,IAAI;gBASFX,UAAA,CAAWY,KAAA,GAAQZ,UAAA,CAAWY,KAAA,CAAMiB,MAAA,CAAO,UAAAC,CAAA;kBAAA,OAAKA,CAAA,CAAEf,QAAA,KAAaA,QAAQ;gBAAA;gBACvEjB,aAAA,CAAGmB,KAAA,CAACC,SAAA,CAAU;kBAAEC,KAAA,EAAO;kBAAQC,IAAA,EAAM;gBAAS,CAAE;cACjD,SAAQJ,KAAA,EAAO;gBACdlB,aAAA,CAAGmB,KAAA,CAACC,SAAA,CAAU;kBAAEC,KAAA,EAAO;kBAAQC,IAAA,EAAM;gBAAM,CAAE;cAC9C;YAAA;YAAA;cAAA,OAAAQ,SAAA,CAAAP,IAAA;UAAA;QAAA,GAAAK,QAAA;MAAA,CACH;MAAA,gBAfMF,aAAAO,EAAA;QAAA,OAAAN,KAAA,CAAAH,KAAA,OAAAC,SAAA;MAAA;IAAA,GAeN;IAGA,IAAMS,YAAA,GAAe,SAAfA,aAAgBC,MAAA,EAAW;MAC/BnC,aAAA,CAAAmB,KAAA,CAAIiB,SAAA,CAAU;QACZf,KAAA,EAAO;QACPgB,OAAA,gDAAAC,MAAA,CAAoBH,MAAA,CAAOnB,QAAQ;QACnCuB,OAAA,EAAS,SAATA,QAAUC,GAAA,EAAQ;UAChB,IAAIA,GAAA,CAAIC,OAAA,EAAS;YACff,YAAA,CAAaS,MAAA,CAAOlB,QAAQ;UAC7B;QACF;MACL,CAAG;IACH;IAEAjB,aAAA,CAAA0C,MAAA,CAAO,YAAM;MACX3C,MAAA,CAAOe,KAAA,GAAQd,aAAA,CAAAmB,KAAA,CAAIwB,cAAA,CAAe,QAAQ;MAC1CxC,YAAA;IACF,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzGDyC,EAAA,CAAGC,UAAA,CAAWC,eAAe","ignoreList":[]}