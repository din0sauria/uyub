{"version":3,"names":["ActivityCard","swiperList","common_vendor","ref","image","goToSearch","index","navigateTo","url","tabs","activeTab","single","Date","toISOString","split","filters","selectedFilter","onFilterChange","e","value","detail","activities","static_card","scrollTop","onScroll","awesome","computed","rpxToPx","rpx","windowWidth","getWindowInfo","screenWidth","pixelRatio","tab","filter","wx","createPage","MiniProgramPage"],"sources":["index.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\r\n  <scroll-view class=\"container\" ref=\"container\" scroll-y @scroll=\"onScroll\">\r\n\r\n\r\n    <!-- 轮播图 -->\r\n    <swiper class=\"swiper\" autoplay circular>\r\n      <swiper-item v-for=\"(item, index) in swiperList\" :key=\"index\">\r\n        <image :src=\"item.image\" mode=\"aspectFill\" style=\"width: 100%;\"></image>\r\n      </swiper-item>\r\n    </swiper>\r\n\r\n    <!-- 搜索框 -->\r\n    <view class=\"search-box\" v-if=\"awesome\" @click=\"goToSearch\">\r\n      <uni-icons type=\"search\"></uni-icons>\r\n      <input class=\"search-input\" placeholder=\" 搜索活动\">\r\n    </view>\r\n\r\n    <view class=\"sticky-box\" v-else @click=\"goToSearch\">\r\n      <view class=\"sticky-search\">\r\n        <uni-icons type=\"search\"></uni-icons>\r\n        <input class=\"search-input\" placeholder=\" 搜索活动\">\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 活动类型 Tab -->\r\n    <view :class=\"tab\">\r\n      <view class=\"active-bar\">\r\n        <view v-for=\"(tab, index) in tabs\" :key=\"index\" class=\"tab-item\" :class=\"{ active: activeTab === index }\"\r\n          @click=\"activeTab = index\">\r\n          {{ tab }}\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 筛选条件 -->\r\n    <view :class=\"filter\">\r\n      <view class=\"filter\">\r\n        <view class=\"date-picker\"><uni-datetime-picker type=\"date\" :clear-icon=\"false\" v-model=\"single\"\r\n            :border=\"false\" /></view>\r\n        <picker mode=\"selector\" :range=\"filters\" @change=\"onFilterChange\">\r\n          {{ filters[selectedFilter] }}\r\n          <uni-icons type=\"down\"></uni-icons>\r\n        </picker>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 活动卡片 -->\r\n    <scroll-view class=\"card-list\">\r\n      <ActivityCard v-for=\"(activity, index) in activities\" :key=\"index\" :id=\"activity.id\" :title=\"activity.title\"\r\n        :price=\"activity.price\" :address=\"activity.address\" :date=\"activity.date\" :time=\"activity.time\"\r\n        :status=\"activity.status\" :participants=\"activity.participants\" :plan=\"activity.plan\" :tags=\"activity.tags\" />\r\n    </scroll-view>\r\n  </scroll-view>\r\n</template>\r\n\r\n<script setup>\r\n  import {\r\n    ref,\r\n    computed\r\n  } from 'vue';\r\n  import ActivityCard from '/components/card.vue';\r\n\r\n  // 轮播图数据\r\n  const swiperList = ref([{\r\n      image: '/static/index/post1.png'\r\n    },\r\n    {\r\n      image: '/static/index/post2.png'\r\n    }\r\n  ]);\r\n  const goToSearch = () => {\r\n    uni.navigateTo({\r\n      url: '/pages/search/search' // 替换为你的搜索页面路径\r\n    });\r\n  };\r\n\r\n\r\n  // 活动类型 Tab\r\n  const tabs = ref(['羽毛球', '生活', '足球', '飞盘']);\r\n  const activeTab = ref(0);\r\n\r\n  // 日期选择(默认今天)\r\n  const single = ref(new Date().toISOString().split('T')[0]);\r\n\r\n  // 下拉筛选条件\r\n  const filters = ref(['不限', '萌新', '专业']);\r\n  const selectedFilter = ref(0);\r\n\r\n  // 筛选条件变化\r\n  const onFilterChange = (e) => {\r\n    selectedFilter.value = e.detail.value;\r\n  };\r\n\r\nimport card from '/static/card.js';\r\n  const activities = ref(card);\r\n\r\n\r\n  const container = ref(null); // 容器引用\r\n  const scrollTop = ref(0); // 滚动距离\r\n  // 监听滚动事件\r\n  const onScroll = (e) => {\r\n    scrollTop.value = e.detail.scrollTop; // 更新滚动距离\r\n  };\r\n\r\n  // 计算属性，判断是否小于 300rpx\r\n  const awesome = computed(() => {\r\n    const rpxToPx = (rpx) => {\r\n      const windowWidth = uni.getWindowInfo().screenWidth;\r\n      const pixelRatio = windowWidth / 750; // 750 是设计稿宽度\r\n      return rpx * pixelRatio;\r\n    };\r\n    return scrollTop.value < rpxToPx(250); // 将 rpx 转换为 px\r\n  });\r\n\r\n  const tab = computed(() => {\r\n    return awesome.value ? '' : 'sticky-tab';\r\n  });\r\n  const filter = computed(() => {\r\n    return awesome.value ? '' : 'sticky-filter';\r\n  })\r\n</script>\r\n\r\n\r\n<style scoped>\r\n  .container {\r\n    height: 100vh;\r\n  }\r\n\r\n  .swiper {\r\n    width: 100%;\r\n    height: 350rpx;\r\n    transition: height 0.3s;\r\n  }\r\n\r\n\r\n  .search-box {\r\n    position: absolute;\r\n    top: 250rpx;\r\n    background: rgba(255, 255, 255, 0.7);\r\n    padding: 10rpx;\r\n    border-radius: 20rpx;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-left: 30rpx;\r\n    width: 350rpx;\r\n  }\r\n\r\n  .sticky-box {\r\n    position: fixed;\r\n    top: 0rpx;\r\n    z-index: 5;\r\n    background-color: #fff;\r\n    /* 添加背景色 */\r\n    transition: all 0.5s ease-out;\r\n    display: block;\r\n    padding-top: 50rpx;\r\n    height: 60rpx;\r\n    width: 100%;\r\n\r\n  }\r\n\r\n  .sticky-search {\r\n    background-color: #efefef;\r\n    padding: 10rpx;\r\n    border-radius: 20rpx;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-left: 30rpx;\r\n\r\n    width: 350rpx;\r\n    transition: all 0.5s ease-out;\r\n  }\r\n\r\n  .sticky-tab {\r\n    display: block;\r\n    position: fixed;\r\n    top: 110rpx;\r\n    /* 吸附在搜索栏下方 */\r\n    z-index: 4;\r\n    background-color: #fff;\r\n    transition: all 0.5s ease-out;\r\n    width: 100%;\r\n  }\r\n\r\n  .active-bar {\r\n    padding: 10rpx;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    background-color: #fff;\r\n    height: 100%;\r\n  }\r\n\r\n  .tab-item {\r\n    padding: 10rpx;\r\n  }\r\n\r\n  .tab-item.active {\r\n    border-bottom: 5rpx solid #007AFF;\r\n  }\r\n\r\n  .sticky-filter {\r\n    position: fixed;\r\n    top: 170rpx;\r\n    /* 吸附在Tab栏下方 */\r\n    z-index: 3;\r\n    padding-top: 10rpx;\r\n    background-color: #fff;\r\n    transition: top 0.3s;\r\n    width: 100%;\r\n  }\r\n\r\n  .filter {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    background-color: #fff;\r\n    padding: 10rpx;\r\n    height: 100%;\r\n  }\r\n\r\n  .date-picker {\r\n    width: 40%;\r\n  }\r\n\r\n  .card-list {\r\n    margin-top: 20rpx;\r\n  }\r\n</style>","import MiniProgramPage from 'E:/program/FrontEnd/uni/uyub/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;;;;;;;;;;;;;;;;AA4DE,IAAMA,YAAA,GAAe,SAAfA,aAAA;EAAA,OAA0B;AAAA;;;;IAGhC,IAAMC,UAAA,GAAaC,aAAA,CAAAC,GAAA,CAAI,CAAC;MACpBC,KAAA,EAAO;IACR,GACD;MACEA,KAAA,EAAO;IACR,EACF;IACD,IAAMC,UAAA,GAAa,SAAbA,WAAA,EAAmB;MACvBH,aAAA,CAAAI,KAAA,CAAIC,UAAA,CAAW;QACbC,GAAA,EAAK;QAAA;MACX,CAAK;IACL;;IAIE,IAAMC,IAAA,GAAOP,aAAA,CAAAC,GAAA,CAAI,CAAC,OAAO,MAAM,MAAM,IAAI,CAAC;IAC1C,IAAMO,SAAA,GAAYR,aAAA,CAAAC,GAAA,CAAI,CAAC;IAGvB,IAAMQ,MAAA,GAAST,aAAA,CAAAC,GAAA,EAAI,mBAAIS,IAAA,GAAOC,WAAA,GAAcC,KAAA,CAAM,GAAG,EAAE,CAAC,CAAC;IAGzD,IAAMC,OAAA,GAAUb,aAAA,CAAAC,GAAA,CAAI,CAAC,MAAM,MAAM,IAAI,CAAC;IACtC,IAAMa,cAAA,GAAiBd,aAAA,CAAAC,GAAA,CAAI,CAAC;IAG5B,IAAMc,cAAA,GAAiB,SAAjBA,eAAkBC,CAAA,EAAM;MAC5BF,cAAA,CAAeG,KAAA,GAAQD,CAAA,CAAEE,MAAA,CAAOD,KAAA;IACpC;IAGE,IAAME,UAAA,GAAanB,aAAA,CAAAC,GAAA,CAAImB,WAAA,CAAAD,UAAI;IAGTnB,aAAA,CAAAC,GAAA,CAAI,IAAI;IAC1B,IAAMoB,SAAA,GAAYrB,aAAA,CAAAC,GAAA,CAAI,CAAC;IAEvB,IAAMqB,QAAA,GAAW,SAAXA,SAAYN,CAAA,EAAM;MACtBK,SAAA,CAAUJ,KAAA,GAAQD,CAAA,CAAEE,MAAA,CAAOG,SAAA;IAC/B;IAGE,IAAME,OAAA,GAAUvB,aAAA,CAAAwB,QAAA,CAAS,YAAM;MAC7B,IAAMC,OAAA,GAAU,SAAVA,QAAWC,GAAA,EAAQ;QACvB,IAAMC,WAAA,GAAc3B,aAAA,CAAAI,KAAA,CAAIwB,aAAA,EAAa,CAAGC,WAAA;QACxC,IAAMC,UAAA,GAAaH,WAAA,GAAc;QACjC,OAAOD,GAAA,GAAMI,UAAA;MACnB;MACI,OAAOT,SAAA,CAAUJ,KAAA,GAAQQ,OAAA,CAAQ,GAAG;IACxC,CAAG;IAED,IAAMM,GAAA,GAAM/B,aAAA,CAAAwB,QAAA,CAAS,YAAM;MACzB,OAAOD,OAAA,CAAQN,KAAA,GAAQ,KAAK;IAChC,CAAG;IACD,IAAMe,MAAA,GAAShC,aAAA,CAAAwB,QAAA,CAAS,YAAM;MAC5B,OAAOD,OAAA,CAAQN,KAAA,GAAQ,KAAK;IAChC,CAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtHHgB,EAAA,CAAGC,UAAA,CAAWC,eAAe","ignoreList":[]}